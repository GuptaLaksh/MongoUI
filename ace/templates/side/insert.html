{% load static %}

<!DOCTYPE html>


<html lang="en">

<head>
    <title>Mongo | Document Insertion</title>
    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    

    

    <link href="{% static 'css/bootstrap.min.css' %}  " rel="stylesheet">
  <link href="{% static 'font-awesome/css/font-awesome.css' %}" rel="stylesheet">
  <link href="{% static 'css/animate.css' %}" rel="stylesheet">
  <link href="{% static 'css/plugins/codemirror/codemirror.css' %}" rel="stylesheet">
  <link href="{% static 'css/plugins/jasny/jasny-bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'css/plugins/dropzone/dropzone.css' %}" rel="stylesheet">
  <link href="{% static 'css/plugins/dropzone/basic.css' %}" rel="stylesheet">
  <link href="{% static 'css/plugins/sweetalert/sweetalert.css' %}" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'side/insertdoc.css' %}">
    
</head>


<body>
    <div class="container">
        <header>
            <a href="{% url 'showdbs' %}"><img class="logo" src="{% static 'images/microbots.png' %}"></a>


            <span class="greetings"><a href="{% url 'logout' %}"><button class="w-100 btn btn-outline-dark">
                        <h5>Log Out</h5>
                    </button></a></span>
            <span class="greetings">
                <h5 class="username">Hi <b><span style="color: dodgerblue;">{{current_user}}</span></b>!</h5>
            </span>
        </header>

        <hr>
        <a href="{% url 'showdocs' db=db collection=collection %}"><button class="backButton btn btn-warning btn-large">
                <svg width="18px" height="18px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                    <!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) -->
                    <path
                        d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z" />
                    </svg>
                
            </button></a>


        <hr>
        {% if e is not None %}
        <div style="color:black;">
            <i> <b> {{e}} </b> </i>
        </div>
        {% endif %}

        <form enctype="multipart/form-data" method="post" action="">

            {% csrf_token %}

            <div class="form-group">
                {{ form.myfile }}
            </div>

            <!--
            <div class="wrapper wrapper-content animated fadeIn">
                <div class="row">
                    <div class="col-lg-6">
                        <div class="ibox ">
                                
                            <div class="ibox-content">

                                <div class="custom-file">
                                    <input id="logo" type="file" class="custom-file-input point" >
                                    <label for="logo" class="custom-file-label">Choose file...</label>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            -->

            <div class="form-group">
                <b>
                    <h4>{{ form.dictionary }}</h4>
                </b>
            </div>

            <div>
                <input type="submit" name="action" value="Validate" class=" btn btn-danger btn-large pull-right">
                <input type="submit" name="action" value="Insert" class=" btn btn-primary btn-large pull-right">
                <input type="submit" name="action" value="Preview" class="btn btn-primary btn-large pull-right">
            </div>


        </form>




    </div>

    
    <!-- Mainly s<!-- Mainly scripts -->
    <script src="{% static 'js/jquery-3.1.1.min.js' %} "></script>
    <script src="{% static 'js/popper.min.js' %} "></script>
    <script src="{% static 'js/bootstrap.js' %} "></script>
    <script src="{% static 'js/plugins/metisMenu/jquery.metisMenu.js' %} "></script>
    <script src="{% static 'js/plugins/slimscroll/jquery.slimscroll.min.js' %} "></script>

    <!-- Custom and plugin javascript -->
    <script src="{% static 'js/inspinia.js' %} "></script>
    <script src="{% static 'js/plugins/pace/pace.min.js' %} "></script>

    <!-- Jasny -->
    <script src="{% static 'js/plugins/jasny/jasny-bootstrap.min.js' %} "></script>
   
    <!-- DROPZONE -->
    <script src="{% static 'js/plugins/dropzone/dropzone.js' %} "></script>
    

    <!-- CodeMirror -->
    <script src="{% static 'js/plugins/codemirror/codemirror.js' %} "></script>
    <script src="{% static 'js/plugins/codemirror/mode/xml/xml.js' %} "></script>

    <script>
        Dropzone.options.dropzoneForm = {
            paramName: "file", // The name that will be used to transfer the file
            maxFilesize: 2, // MB
            dictDefaultMessage: "<strong>Drop files here or click to upload. </strong></br> (This is just a demo dropzone. Selected files are not actually uploaded.)"
        };

        $(document).ready(function(){

            var editor_one = CodeMirror.fromTextArea(document.getElementById("code1"), {
                lineNumbers: true,
                matchBrackets: true
            });

            var editor_two = CodeMirror.fromTextArea(document.getElementById("code2"), {
                lineNumbers: true,
                matchBrackets: true
            });

            var editor_two = CodeMirror.fromTextArea(document.getElementById("code3"), {
                lineNumbers: true,
                matchBrackets: true
            });

            var editor_two = CodeMirror.fromTextArea(document.getElementById("code4"), {
                lineNumbers: true,
                matchBrackets: true
            });


            $('.custom-file-input').on('change', function() {
                let fileName = $(this).val().split('\\').pop();
                $(this).next('.custom-file-label').addClass("selected").html(fileName);
            });

       });
    </script>




</body>

</html>