{% load static %}
<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    
    <link rel="stylesheet" type="text/css" href="{% static 'side/views.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'main/admin/adminpage.css' %}">

 

    <title>Mongo | Admin</title>

</head>




<body>
    <div>

        <header>
            <a href="{% url 'showdbs' %}"><img class="logo" src="{% static 'images/microbots.png' %}"></a>
            
        
            <span class="greetings"><a href="{% url 'logout' %}"><button class="w-100 btn btn-outline-dark">
                        <h5>Log Out</h5>
                    </button></a></span>
            <span class="greetings">
                <h5 class="username">Hi <b><span style="color: dodgerblue;">{{current_user}}</span></b>!</h5>
            </span>
            
            <span class="greetings" style="margin-right:20px;">
                <a href="{% url 'showdbs' %}"><button class="btn btn-success btn-large pull-left">
                    View Site</button></a>        
            </span>
        </header>

        <hr>

        <a href="{% url 'showdbs' %}"><button class="backButton btn btn-warning btn-large pull-left">
            <svg width="18px" height="18px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --><path d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"/></svg>
            Back</button></a>

        
    
        
        <form enctype="multipart/form-data" method="post" action="">
            {% csrf_token %}
            <hr>
            <h2>CREATE USER</h2>
            <hr>
            <div>

                <span class="form-group">User :   {{ form.newUser }}</span>
            
                <span class="form-group">Password : {{ form.pwd }}</span>
                
                
                

                <div id="checkboxes" >
                    
                    <table class="center">

                        <tr>
                            <th>
                                <h2><b>Permissions</b></h2>
                            </th>
                        </tr>
                        <div class="col-lg-6">
                            <div class="ibox ">
                               
                                <div class="ibox-content">
                
                                    <table class="table table-hover">
                                        <thead>
                                          <tr>
                                        <th>Databases</th>
                                        <th>Read</th>
                                        <th>ReadWrite  </th>
                                    </tr>
                                        </thead>
                                        <tbody>
                                            {% for db in dbs %}
                                            <tr>
                                        <td>
                                            {{db.name}}
                                        </td>
                                        <td>
                                            <input type="checkbox" name="Read-{{db.name}}" class="point">
                                        </td>
                                        <td>
                                            <input type="checkbox" name="ReadWrite-{{db.name}}" class="point">
                                        </td>
                                    </tr>
                                        
                                    {% endfor %}  
                
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <hr>
                            <span class="form-group">
                                <input type="submit" name="action" value="CreateUser" class="btn btn-primary btn-large pull-right">
                            </span>  
                            <hr>
                        </div>
                        
                        
                    </table>
                    
                </div>
                
                   
                
                </div>    
         
            
        </form>
        
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
    </script>
    <script>
        function clickFn(event) {
            const checkbox = event.currentTarget;
            checkbox.value = checkbox.checked ? 'dark' : 'light';
            event.currentTarget.closest('form').submit()
          }
    </script>

    
<script src="{% static 'js/jquery-3.1.1.min.js' %} "></script>
<script src="{% static 'js/popper.min.js' %} "></script>
<script src="{% static 'js/bootstrap.js' %} "></script>
<script src="{% static 'js/plugins/metisMenu/jquery.metisMenu.js' %} "></script>

<script src="{% static 'js/plugins/slimscroll/jquery.slimscroll.min.js' %} "></script>



<!-- Peity -->
<script src="{% static 'js/plugins/peity/jquery.peity.min.js' %} "></script>

<!-- Custom and plugin javascript -->
<script src="{% static 'js/inspinia.js' %} "></script>
<script src="{% static 'js/plugins/pace/pace.min.js' %} "></script>

<!-- iCheck -->

<script src="{% static 'js/plugins/iCheck/icheck.min.js' %} "></script>
<!-- Peity -->
<script src="{% static 'js/demo/peity-demo.js' %} "></script>

<script>
    $(document).ready(function () {
        $('.i-checks').iCheck({
            checkboxClass: 'icheckbox_square-green',
            radioClass: 'iradio_square-green',
        });
    });
</script>
<script>
    $('.demo3').click(function () {
        swal({
            title: "Are you sure?",
            text: "You will not be able to recover this imaginary file!",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Yes, delete it!",
            closeOnConfirm: false
        }, function () {
            swal("Deleted!", "Your imaginary file has been deleted.", "success");
        });
    });
</script>
</body>

</html>