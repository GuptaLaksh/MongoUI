{% extends 'base.html' %}
{% load static %}
{% block title %}
Collections
{% endblock title %}
<!-- /home/itpauser/donkeyUI/ace/static/ace/home.css -->
{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'main/home.css' %}">{% endblock %}


{% block content %}
<div class="container">
  {% if user.is_authenticated %}
    <header>
      <a href="{% url 'showdbs' %}">
        <img class="logo" src="{% static 'images/microbots.png' %}">
      </a>
      <span class="greetings"><a href="{% url 'logout' %}">
          <button class="w-100 btn btn-outline-dark">
            <h5>Log Out</h5>
          </button>
        </a></span>
      <span class="greetings">
        <h5 class="username">
          Hi <b>{{ user.username }}</b>!
        </h5>
      </span>
    </header>
    <hr>
    <!--
    <nav>
    <select name="databases" id="databases">
      {% for dbname in dbs %}  <option value="{{dbname}}">{{dbname}}</option>{% endfor %}
    </select>
    </nav>
    -->
    <nav>
      <p>
        <b>
          <h5>
            <a href="{% url 'showdbs' %}">
              <button>{{db}}</button>
            </a>
            <a href="{% url '_insertcollection' db=db %}"><button class="right"><b>Add Collection</b></button>
          </h5>
        </b>
      </p>
    </nav>
    <table>
      <tr>
        <th>Name Collection</th>
        <th>Document Count</th>
        <th class="prime">View</th>
        <th class="prime">Delete</th>
       
      </tr>
      {% for dict in tuplist %}
      <tr>
        <td>
          {{ dict.name }}
        </td>
        
        <td>
          {{ dict.count }}
        </td>
        
        <td class="prime">
          <a href="{% url 'showdocs' db=db collection=dict.name %}">
          <button type="button" class="btn btn-success">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-fill"
              viewBox="0 0 16 16">
              <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"></path>
              <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"></path>
            </svg>
            
            
          </button></a>
        </td>
        {% if db in primelist %}
        <td class="prime">
          <button type="button" class="btn btn-outline-danger" id="remove" disabled>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill"
              viewBox="0 0 16 16">
              <path
                d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z">
              </path>
            </svg>
          </button>
        </td>
        {% else %}
        <td class="prime">
        <a href="{% url '_deletecollection' db=db collection=dict.name %}" onclick="return confirm('Are you sure you want to delete this Collection ?');">
          <button type="button" class="btn btn-outline-danger" id="remove">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill"
              viewBox="0 0 16 16">
              <path
                d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z">
              </path>
            </svg>
          </button>
        </a>
        </td>
        {% endif %}
      </tr>
      {% endfor %}

      
      <!--
      {% for dbname in dbs %}
      <tr>
        <td><a href="{% url "base" pk=dbname.name %}">{{dbname.name}}</a></td>
        <td>{{dbname.sizeOnDisk}}</td>
      </tr>
      {% endfor %}
      -->
    </table>
    {% if db in primelist %}
      <div class="container">
              <input type="input" placeholder="{{db}}" name="newname" size="22" disabled>
            <button type="button" class="btn btn-warning" disabled>
                <svg width="16" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3L188.5 453.4L154.6 419.5L158.1 416H112C103.2 416 96 408.8 96 400V353.9L92.51 357.4C87.78 362.2 84.31 368 82.42 374.4L59.44 452.6L137.6 429.6C143.1 427.7 149.8 424.2 154.6 419.5L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3zM492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75z"/></svg>            </button>
          
          {% else %}
        
            <form action="" method="post">
                {% csrf_token %}
              <input type="input" placeholder="{{db}}" name="newname" size="22">
              <a href="{% url '_renamedatabase' db=db %}">
            <button type="button" class="btn btn-warning">
                <svg width="16" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3L188.5 453.4L154.6 419.5L158.1 416H112C103.2 416 96 408.8 96 400V353.9L92.51 357.4C87.78 362.2 84.31 368 82.42 374.4L59.44 452.6L137.6 429.6C143.1 427.7 149.8 424.2 154.6 419.5L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3zM492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75z"/></svg>              
              </a>
            </button>
          </form>
        </div>
          {% endif %}
  {% else %}
    <p>
      You are not logged in
  </p>
  <a href="{% url 'login' %}">
      <h4>Log In</h4>
  </a>
  {% endif %}
</div>
{% endblock %}
