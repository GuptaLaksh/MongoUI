{% extends "base.html" %} {% load static %} {% block title %}Mongo | Databases{% endblock %} {% block head %} {% endblock %}
{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'main/home.css' %}"> {% endblock css %}
<!-- /home/itpauser/donkeyUI/ace/static/ace/home.css -->



{% block content %}
<div class="container">

    {% if current_user %}
    <header>
        <a href="{% url 'showdbs' %}">
            <img class="logo" src="{% static "images/microbots.png" %}">
        </a>

        <span class="greetings"><a href="{% url 'logout' %}">
                <button class="w-100 btn btn-outline-dark">
                    <h5>Log Out</h5>
                </button>
            </a>
        </span>
        <span class="greetings">
            <h5 class="username">
                Hi <b><span style="color: dodgerblue;">{{current_user}}</span></b>!
            </h5>
        </span>
        <span class="greetings" style="margin-right:20px;">
            <a href="{% url 'adminpage' %}"><button class="btn btn-warning btn-large pull-left">
                    Admin</button></a>
        </span>
        <p>
            {% include 'main/includes/messages.html' %}
        </p>
    </header>
    <hr>

    <nav>
        <div>
            <b>
                <h5>
                    <a href="{% url '_insertdatabase' %}"><button class="right"><b>Add Database </b></button>
                    </a>
                </h5>
            </b>
        </div>
    </nav>


    <table class="center">

        <tr>
            <th>
                <h2><b>Databases</b></h2>
            </th>
        </tr>
        <div class="col-lg-6">
            <div class="ibox ">
               
                <div class="ibox-content">

                    <table class="table table-hover">
                        <thead>
                            <tr>
                    
                                <th>Name</th>
                                <th class="prime">Size</th>
                                <th class="prime">View</th>
                                <th class="prime">Delete</th>

                            </tr>
                        </thead>
                        <tbody>
                            </tr>
                            {% for dbname in dbs %}
                            <tr>
                                <td>
                                    {{ dbname.name }}
                                </td>
                                <td class="prime">{{ dbname.sizeOnDisk }} <b>(bytes.)</b></td>
                                <td class="prime">
                                    <a href="{% url 'showcollections' db=dbname.name %}">
                                        <button type="button" class="btn btn-success">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
                                                <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"></path>
                                                <path
                                                    d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z">
                                                </path>
                                            </svg>


                                        </button></a>
                                </td>
                                {% if dbname.name in primelist %}
                                <td class="prime">
                                    <button type="button" class="btn btn-outline-danger" disabled>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                            fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                            <path
                                                d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z">
                                            </path>
                                        </svg>
                                    </button>
                                </td>
                                {% else %}
                                <td class="prime">
                                    <a href="{% url '_deletedatabase' db=dbname.name %}" class="demo3"
                                        onclick="return confirm('Are you sure you want to delete this Database Permanently ?');">
                                        <button type="button" class="btn btn-outline-danger">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z">
                                                </path>
                                            </svg>
                                        </button></a>
                                </td>
                                {% endif %}

                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </table>
</div>



{% endif %}
</div>
<!-- Mainly scripts -->
<script src="{% static 'js/jquery-3.1.1.min.js' %} "></script>
<script src="{% static 'js/popper.min.js' %} "></script>
<script src="{% static 'js/bootstrap.js' %} "></script>
<script src="{% static 'js/plugins/metisMenu/jquery.metisMenu.js' %} "></script>

<script src="{% static 'js/plugins/slimscroll/jquery.slimscroll.min.js' %} "></script>



<!-- Peity -->
<script src="{% static 'js/plugins/peity/jquery.peity.min.js' %} "></script>

<!-- Custom and plugin javascript -->
<script src="{% static 'js/inspinia.js' %} "></script>
<script src="{% static 'js/plugins/pace/pace.min.js' %} "></script>

<!-- iCheck -->

<script src="{% static 'js/plugins/iCheck/icheck.min.js' %} "></script>
<!-- Peity -->
<script src="{% static 'js/demo/peity-demo.js' %} "></script>

<script>
    $(document).ready(function () {
        $('.i-checks').iCheck({
            checkboxClass: 'icheckbox_square-green',
            radioClass: 'iradio_square-green',
        });
    });
</script>
<script>
    $('.demo3').click(function () {
        swal({
            title: "Are you sure?",
            text: "You will not be able to recover this imaginary file!",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Yes, delete it!",
            closeOnConfirm: false
        }, function () {
            swal("Deleted!", "Your imaginary file has been deleted.", "success");
        });
    });
</script>
{% endblock %}